\hypertarget{classlarcfm_1_1_weather_util}{}\doxysection{larcfm\+::Weather\+Util Class Reference}
\label{classlarcfm_1_1_weather_util}\index{larcfm::WeatherUtil@{larcfm::WeatherUtil}}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static std\+::pair$<$ \mbox{\hyperlink{classlarcfm_1_1_plan}{Plan}}, \mbox{\hyperlink{classlarcfm_1_1_density_grid}{Density\+Grid}} $>$ \mbox{\hyperlink{classlarcfm_1_1_weather_util_ab9c0e79b1bf692d1ab095c9c4a1dba2e}{re\+Route\+Wx}} (const \mbox{\hyperlink{classlarcfm_1_1_plan}{Plan}} \&own, std\+::vector$<$ \mbox{\hyperlink{classlarcfm_1_1_poly_path}{Poly\+Path}} $>$ \&paths, double grid\+Size, double buffer, double factor, double T\+\_\+p, const std\+::vector$<$ \mbox{\hyperlink{classlarcfm_1_1_poly_path}{Poly\+Path}} $>$ \&containment, bool fast\+Polygon\+Reroute, double time\+Of\+Current\+Position, double re\+Route\+Lead\+In, bool re\+Route\+Reduction)
\item 
static std\+::pair$<$ \mbox{\hyperlink{classlarcfm_1_1_plan}{Plan}}, \mbox{\hyperlink{classlarcfm_1_1_density_grid}{Density\+Grid}} $>$ \mbox{\hyperlink{classlarcfm_1_1_weather_util_afc2870d1015625448d82ac96ac77f953}{re\+Route\+Wx\+Expand}} (const \mbox{\hyperlink{classlarcfm_1_1_plan}{Plan}} \&own, const std\+::vector$<$ \mbox{\hyperlink{classlarcfm_1_1_poly_path}{Poly\+Path}} $>$ \&paths, double grid\+Size, double buffer, double factor, double T\+\_\+p, const std\+::vector$<$ \mbox{\hyperlink{classlarcfm_1_1_poly_path}{Poly\+Path}} $>$ \&containment, bool fast\+Polygon\+Reroute, double time\+Of\+Current\+Position, double re\+Route\+Lead\+In, bool expand\+Polygons, double time\+Before, double time\+After, bool re\+Route\+Reduction)
\item 
\mbox{\Hypertarget{classlarcfm_1_1_weather_util_aec54d9c4a08f43eb111ab94492d47d48}\label{classlarcfm_1_1_weather_util_aec54d9c4a08f43eb111ab94492d47d48}} 
static std\+::vector$<$ \mbox{\hyperlink{classlarcfm_1_1_poly_path}{Poly\+Path}} $>$ {\bfseries Re\+Route\+Expand\+It} (const std\+::vector$<$ \mbox{\hyperlink{classlarcfm_1_1_poly_path}{Poly\+Path}} $>$ \&paths, double cell\+Size, bool expand\+Polygons, double time\+Before, double time\+After)
\item 
\mbox{\Hypertarget{classlarcfm_1_1_weather_util_ae1543e3eefce78be1aefdaf7c7353558}\label{classlarcfm_1_1_weather_util_ae1543e3eefce78be1aefdaf7c7353558}} 
static std\+::pair$<$ \mbox{\hyperlink{classlarcfm_1_1_plan}{Plan}}, \mbox{\hyperlink{classlarcfm_1_1_density_grid}{Density\+Grid}} $>$ {\bfseries re\+Route\+With\+Astar} (const std\+::vector$<$ \mbox{\hyperlink{classlarcfm_1_1_poly_path}{Poly\+Path}} $>$ \&paths, const \mbox{\hyperlink{classlarcfm_1_1_plan}{Plan}} \&ownship, double grid\+Size, double buffer, double factor, double gs, const std\+::vector$<$ \mbox{\hyperlink{classlarcfm_1_1_poly_path}{Poly\+Path}} $>$ \&containment, double endT, bool fast\+Polygon\+Reroute)
\item 
\mbox{\Hypertarget{classlarcfm_1_1_weather_util_a52ba58717b7594398fe839c5da18d1bd}\label{classlarcfm_1_1_weather_util_a52ba58717b7594398fe839c5da18d1bd}} 
static \mbox{\hyperlink{classlarcfm_1_1_plan}{Plan}} {\bfseries set\+Altitudes} (const \mbox{\hyperlink{classlarcfm_1_1_plan}{Plan}} \&pp, double first\+Leg\+Vs)
\end{DoxyCompactItemize}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classlarcfm_1_1_weather_util_ab9c0e79b1bf692d1ab095c9c4a1dba2e}\label{classlarcfm_1_1_weather_util_ab9c0e79b1bf692d1ab095c9c4a1dba2e}} 
\index{larcfm::WeatherUtil@{larcfm::WeatherUtil}!reRouteWx@{reRouteWx}}
\index{reRouteWx@{reRouteWx}!larcfm::WeatherUtil@{larcfm::WeatherUtil}}
\doxysubsubsection{\texorpdfstring{reRouteWx()}{reRouteWx()}}
{\footnotesize\ttfamily std\+::pair$<$ \mbox{\hyperlink{classlarcfm_1_1_plan}{Plan}}, \mbox{\hyperlink{classlarcfm_1_1_density_grid}{Density\+Grid}} $>$ larcfm\+::\+Weather\+Util\+::re\+Route\+Wx (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classlarcfm_1_1_plan}{Plan}} \&}]{own,  }\item[{std\+::vector$<$ \mbox{\hyperlink{classlarcfm_1_1_poly_path}{Poly\+Path}} $>$ \&}]{paths,  }\item[{double}]{grid\+Size,  }\item[{double}]{buffer,  }\item[{double}]{factor,  }\item[{double}]{T\+\_\+p,  }\item[{const std\+::vector$<$ \mbox{\hyperlink{classlarcfm_1_1_poly_path}{Poly\+Path}} $>$ \&}]{containment,  }\item[{bool}]{fast\+Polygon\+Reroute,  }\item[{double}]{time\+Of\+Current\+Position,  }\item[{double}]{re\+Route\+Lead\+In,  }\item[{bool}]{re\+Route\+Reduction }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Produce a plan that travels between two end points and is approximately conflict free of any polygons.

(Note this code is experimental and may not always produce correct results.)

Note\+:
\begin{DoxyItemize}
\item \char`\"{}\+Approximately conflict free\char`\"{} means that there should be no intrusions that are greater than grid\+Size. This is intended to be a first step in a more thorough algorithm to avoid polygons.
\item This methods can produce solutions with a small intrusion into one or more polygons (less than 1 grid\+Size). These usually happen at acute corners of polygons. Reducing the grid size will mitigate this (to the reduced grid size).
\item If reduce\+Grid\+Path is true, this is more likely.
\item Fast\+Polygon\+Reroute uses an overestimation of polygons.
\end{DoxyItemize}


\begin{DoxyParams}{Parameters}
{\em own} & plan for ownship \\
\hline
{\em paths} & polypath collection of polygons to be routed around \\
\hline
{\em grid\+Size} & approximate size of grid square (in meters) \\
\hline
{\em buffer} & approximate size of extended grid area (in meters) \\
\hline
{\em factor} & weighting for closeness to path (1.\+0 = approximate distance in grid squares) \\
\hline
{\em T\+\_\+p} & lookahead time, relative to time\+Of\+Current\+Position. Conflicts beyond this time will be ignored, which can cause unexpected behavior. It is recommended that this be turned off (set to -\/1) for most cases. \\
\hline
{\em fast\+Polygon\+Reroute} & \\
\hline
\end{DoxyParams}
param reduce\+Grid\+Path , perform a low-\/level smoothing operation on the resulting path. this may result in a solution that is not completely conflict free. 
\begin{DoxyParams}{Parameters}
{\em time\+Of\+Current\+Position} & location of aircraft in its plan \\
\hline
{\em re\+Route\+Lead\+In} & leadin time from current position (wait this amount of time before maneuvar)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
new ownship plan (empty and/or error set on fail) and densitygrid used (for visualization) Note that even a successful return does not guarantee a completely conflict-\/free return path, only one that does not intrude into any polygons by more than grid\+Size. 
\end{DoxyReturn}
\mbox{\Hypertarget{classlarcfm_1_1_weather_util_afc2870d1015625448d82ac96ac77f953}\label{classlarcfm_1_1_weather_util_afc2870d1015625448d82ac96ac77f953}} 
\index{larcfm::WeatherUtil@{larcfm::WeatherUtil}!reRouteWxExpand@{reRouteWxExpand}}
\index{reRouteWxExpand@{reRouteWxExpand}!larcfm::WeatherUtil@{larcfm::WeatherUtil}}
\doxysubsubsection{\texorpdfstring{reRouteWxExpand()}{reRouteWxExpand()}}
{\footnotesize\ttfamily std\+::pair$<$ \mbox{\hyperlink{classlarcfm_1_1_plan}{Plan}}, \mbox{\hyperlink{classlarcfm_1_1_density_grid}{Density\+Grid}} $>$ larcfm\+::\+Weather\+Util\+::re\+Route\+Wx\+Expand (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classlarcfm_1_1_plan}{Plan}} \&}]{own,  }\item[{const std\+::vector$<$ \mbox{\hyperlink{classlarcfm_1_1_poly_path}{Poly\+Path}} $>$ \&}]{paths,  }\item[{double}]{grid\+Size,  }\item[{double}]{buffer,  }\item[{double}]{factor,  }\item[{double}]{T\+\_\+p,  }\item[{const std\+::vector$<$ \mbox{\hyperlink{classlarcfm_1_1_poly_path}{Poly\+Path}} $>$ \&}]{containment,  }\item[{bool}]{fast\+Polygon\+Reroute,  }\item[{double}]{time\+Of\+Current\+Position,  }\item[{double}]{re\+Route\+Lead\+In,  }\item[{bool}]{expand\+Polygons,  }\item[{double}]{time\+Before,  }\item[{double}]{time\+After,  }\item[{bool}]{re\+Route\+Reduction }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

As \mbox{\hyperlink{classlarcfm_1_1_weather_util_ab9c0e79b1bf692d1ab095c9c4a1dba2e}{re\+Route\+Wx()}}, but this will internally expand the polygons so that they cover a larger area, either representing their total coverage over a period of time of duration time\+Before+time\+After, and/or over-\/approximating them to mitigate solutions that cut corners of polygons. Note that setting reduce\+Grid\+Path to true may still result in a solutions that still contains conflicts.

(Note this code is experimental and may not always produce correct results.)


\begin{DoxyParams}{Parameters}
{\em own} & ownship plan \\
\hline
{\em paths} & list of polygons to avoid \\
\hline
{\em grid\+Size} & desired grid size (m) \\
\hline
{\em buffer} & buffer to expand the grid to allow go-\/around solutions (m) \\
\hline
{\em factor} & weight indicating desire to retain original path (0 = abandon original path, higher numbers = favor original path; transition point in the 3-\/10 range) \\
\hline
{\em T\+\_\+p} & lookahead time for search, relative to time\+Of\+Current\+Position. Conflicts beyond this time will be ignored, which can cause unexpected behavior. It is recommended that this be turned off (set to -\/1) in most cases. \\
\hline
{\em containment} & list of polygons to remain within \\
\hline
{\em fast\+Polygon\+Reroute} & if set to true, use a less exact (greater over-\/approximation) but much faster search \\
\hline
{\em reduce\+Grid\+Path} & if set to true, attempt to smooth resulting path (may re-\/introduce minor conflicts) \\
\hline
{\em time\+Of\+Current\+Position} & absolute time ownship start \\
\hline
{\em re\+Route\+Lead\+In} & time (in s) to allow for initial and final velocity matching of aircraft (should probably be enough to make a 180 degree turn) \\
\hline
{\em expand\+Polygons} & if set to true, internally over-\/approximate the polygons to mitigate missed conflicts \\
\hline
{\em time\+Before} & if greater than zero, ensure the final path is continuously clear for this amount of time before the given solution \\
\hline
{\em time\+After} & if greater than zero, ensure the final path is continuously clear for this amount of time after the given solution \\
\hline
{\em re\+Route\+Reduction} & if true, perform more aggressive simplification of resulting path. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Solution path and the density grid used for the search (the later is intended for further display or analysis) If no solution is found, return a null or empty path.
\end{DoxyReturn}
Note that even a successful return does not guarantee a completely conflict-\/free return path, only one that does not intrude into any polygons by more than grid\+Size. Setting expand\+Polygons to true should mitigate this, and setting reduce\+Grid\+Path may re-\/introduce intrusions. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Modules/\+ACCo\+RD/inc/Weather\+Util.\+h\item 
Modules/\+ACCo\+RD/src/Weather\+Util.\+cpp\end{DoxyCompactItemize}
