\hypertarget{_density_grid_8h_source}{}\doxysection{Density\+Grid.\+h}
\label{_density_grid_8h_source}\index{Modules/ACCoRD/inc/DensityGrid.h@{Modules/ACCoRD/inc/DensityGrid.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*}}
\DoxyCodeLine{2 \textcolor{comment}{ * Copyright (c) 2016-\/2019 United States Government as represented by}}
\DoxyCodeLine{3 \textcolor{comment}{ * the National Aeronautics and Space Administration.  No copyright}}
\DoxyCodeLine{4 \textcolor{comment}{ * is claimed in the United States under Title 17, U.S.Code. All Other}}
\DoxyCodeLine{5 \textcolor{comment}{ * Rights Reserved.}}
\DoxyCodeLine{6 \textcolor{comment}{ */}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{preprocessor}{\#ifndef DENSITYGRID\_H\_}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#define DENSITYGRID\_H\_}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include <map>}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include <set>}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include "{}Plan.h"{}}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include "{}Position.h"{}}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#include "{}PolyPath.h"{}}}
\DoxyCodeLine{18 \textcolor{preprocessor}{\#include "{}BoundingRectangle.h"{}}}
\DoxyCodeLine{19 }
\DoxyCodeLine{20 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacelarcfm}{larcfm}} \{}
\DoxyCodeLine{21 }
\DoxyCodeLine{30 \textcolor{keyword}{class }\mbox{\hyperlink{classlarcfm_1_1_density_grid}{DensityGrid}}\{}
\DoxyCodeLine{31 \textcolor{keyword}{protected}:}
\DoxyCodeLine{32     \mbox{\hyperlink{classlarcfm_1_1_position}{Position}} startPoint\_;}
\DoxyCodeLine{33     \textcolor{keywordtype}{double} startTime\_;}
\DoxyCodeLine{34     \mbox{\hyperlink{classlarcfm_1_1_position}{Position}} endPoint\_;}
\DoxyCodeLine{35     std::map<std::pair<int,int>,\textcolor{keywordtype}{double}> weights;}
\DoxyCodeLine{36     std::map<std::pair<int,int>,\textcolor{keywordtype}{double}>::iterator weightspos;}
\DoxyCodeLine{37     std::map<std::pair<int,int>,std::pair<double,double> > corners;}
\DoxyCodeLine{38     std::map<std::pair<int,int>,std::pair<double,double> >::iterator cornerspos;}
\DoxyCodeLine{39 \textcolor{comment}{//  std::map<std::pair<int,int>,double> searchedWeights;}}
\DoxyCodeLine{40 \textcolor{comment}{//  std::map<std::pair<int,int>,double>::iterator searchedweightspos;}}
\DoxyCodeLine{41 \textcolor{comment}{//  std::set<std::pair<int,int> > marked;}}
\DoxyCodeLine{42 \textcolor{comment}{//  std::set<std::pair<int,int> >::iterator markedpos;}}
\DoxyCodeLine{43     std::vector<std::pair<int,int> >::iterator gPathpos;}
\DoxyCodeLine{44     \textcolor{keywordtype}{bool} latLon;}
\DoxyCodeLine{45     \textcolor{keywordtype}{double} squareSize;}
\DoxyCodeLine{46     \textcolor{keywordtype}{double} squareDist;}
\DoxyCodeLine{47     \textcolor{keywordtype}{int} sz\_x;}
\DoxyCodeLine{48     \textcolor{keywordtype}{int} sz\_y;}
\DoxyCodeLine{49     \mbox{\hyperlink{classlarcfm_1_1_bounding_rectangle}{BoundingRectangle}} bounds; \textcolor{comment}{// overall bounds}}
\DoxyCodeLine{50     \textcolor{keywordtype}{double} minSearchedWeightValue;}
\DoxyCodeLine{51     \textcolor{keywordtype}{double} maxSearchedWeightValue;}
\DoxyCodeLine{52 }
\DoxyCodeLine{53 }
\DoxyCodeLine{54 \textcolor{keyword}{public}:}
\DoxyCodeLine{58     \mbox{\hyperlink{classlarcfm_1_1_density_grid_a04fd142a961788d3cba77a4cc3a180ff}{DensityGrid}}();}
\DoxyCodeLine{59 }
\DoxyCodeLine{71     \mbox{\hyperlink{classlarcfm_1_1_density_grid_a04fd142a961788d3cba77a4cc3a180ff}{DensityGrid}}(\textcolor{keyword}{const} \mbox{\hyperlink{classlarcfm_1_1_bounding_rectangle}{BoundingRectangle}}\& b, \textcolor{keyword}{const} \mbox{\hyperlink{classlarcfm_1_1_nav_point}{NavPoint}}\& start, \textcolor{keyword}{const} \mbox{\hyperlink{classlarcfm_1_1_position}{Position}}\& end, \textcolor{keywordtype}{int} buffer, \textcolor{keywordtype}{double} sqSz, \textcolor{keywordtype}{bool} ll);}
\DoxyCodeLine{72 }
\DoxyCodeLine{81     \mbox{\hyperlink{classlarcfm_1_1_density_grid_a04fd142a961788d3cba77a4cc3a180ff}{DensityGrid}}(\textcolor{keyword}{const} \mbox{\hyperlink{classlarcfm_1_1_plan}{Plan}}\& p, \textcolor{keywordtype}{int} buffer, \textcolor{keywordtype}{double} squareSize);}
\DoxyCodeLine{82 }
\DoxyCodeLine{92     \mbox{\hyperlink{classlarcfm_1_1_density_grid_a04fd142a961788d3cba77a4cc3a180ff}{DensityGrid}}(\textcolor{keyword}{const} \mbox{\hyperlink{classlarcfm_1_1_plan}{Plan}}\& p, \textcolor{keywordtype}{double} startT, \textcolor{keywordtype}{int} buffer, \textcolor{keywordtype}{double} squareSize);}
\DoxyCodeLine{93 }
\DoxyCodeLine{94 \textcolor{keyword}{protected}:}
\DoxyCodeLine{95     \textcolor{keywordtype}{void} init(\textcolor{keyword}{const} \mbox{\hyperlink{classlarcfm_1_1_bounding_rectangle}{BoundingRectangle}}\& b, \textcolor{keyword}{const} \mbox{\hyperlink{classlarcfm_1_1_nav_point}{NavPoint}}\& start, \textcolor{keyword}{const} \mbox{\hyperlink{classlarcfm_1_1_position}{Position}}\& end, \textcolor{keywordtype}{int} buffer, \textcolor{keywordtype}{double} sqSz, \textcolor{keywordtype}{bool} ll);}
\DoxyCodeLine{96 }
\DoxyCodeLine{97 }
\DoxyCodeLine{98 \textcolor{keyword}{private}:}
\DoxyCodeLine{99     \textcolor{keyword}{static} \textcolor{keywordtype}{double} linearEstY(\textcolor{keywordtype}{double} lati, \textcolor{keywordtype}{double} dn);}
\DoxyCodeLine{100 }
\DoxyCodeLine{101 }
\DoxyCodeLine{102 \textcolor{keyword}{public}:}
\DoxyCodeLine{107     \textcolor{keywordtype}{double} \mbox{\hyperlink{classlarcfm_1_1_density_grid_a1aaf7fd2a954dba3fb5cb734c626d978}{getNativeSquareDist}}() \textcolor{keyword}{const};}
\DoxyCodeLine{108 }
\DoxyCodeLine{113     \textcolor{keywordtype}{double} \mbox{\hyperlink{classlarcfm_1_1_density_grid_a914cae961acc095c3e4054419bb30bfb}{getSquareDist}}() \textcolor{keyword}{const};}
\DoxyCodeLine{114 }
\DoxyCodeLine{115     \textcolor{keyword}{static} \textcolor{keywordtype}{double} distEstLatLon(\textcolor{keywordtype}{double} lat1, \textcolor{keywordtype}{double} lat2);}
\DoxyCodeLine{116 }
\DoxyCodeLine{117 }
\DoxyCodeLine{121     \textcolor{keywordtype}{void} \mbox{\hyperlink{classlarcfm_1_1_density_grid_afe0f2f82736560a072c3957b159ac570}{snapToStart}}();}
\DoxyCodeLine{122 }
\DoxyCodeLine{123     std::pair<int,int> gridPosition(\mbox{\hyperlink{classlarcfm_1_1_position}{Position}} p) \textcolor{keyword}{const};}
\DoxyCodeLine{124 }
\DoxyCodeLine{125     \textcolor{keywordtype}{bool} containsCell(\textcolor{keyword}{const} std::pair<int,int>\& xy) \textcolor{keyword}{const};}
\DoxyCodeLine{126 }
\DoxyCodeLine{132     \textcolor{keywordtype}{int} \mbox{\hyperlink{classlarcfm_1_1_density_grid_a4f47b7e3d18572b0f7018fb1aba6a9ef}{sizeX}}() \textcolor{keyword}{const};}
\DoxyCodeLine{133 }
\DoxyCodeLine{138     \textcolor{keywordtype}{int} \mbox{\hyperlink{classlarcfm_1_1_density_grid_a9385c07ec1880c6a2c85d90db5fdad70}{sizeY}}() \textcolor{keyword}{const};}
\DoxyCodeLine{139 }
\DoxyCodeLine{140     \mbox{\hyperlink{classlarcfm_1_1_position}{Position}} getPosition(\textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y) \textcolor{keyword}{const};}
\DoxyCodeLine{141 }
\DoxyCodeLine{142     \mbox{\hyperlink{classlarcfm_1_1_position}{Position}} getPosition(\textcolor{keyword}{const} std::pair<int,int>\& pii) \textcolor{keyword}{const};}
\DoxyCodeLine{143 }
\DoxyCodeLine{144     \mbox{\hyperlink{classlarcfm_1_1_position}{Position}} center(\textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y) \textcolor{keyword}{const};}
\DoxyCodeLine{145 }
\DoxyCodeLine{146     \mbox{\hyperlink{classlarcfm_1_1_position}{Position}} center(\textcolor{keyword}{const} std::pair<int,int>\& pii) \textcolor{keyword}{const};}
\DoxyCodeLine{147 }
\DoxyCodeLine{148     \textcolor{keywordtype}{double} getWeight(\textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y) \textcolor{keyword}{const};}
\DoxyCodeLine{149 }
\DoxyCodeLine{150     \textcolor{keywordtype}{double} getWeight(\textcolor{keyword}{const} std::pair<int,int>\& pii) \textcolor{keyword}{const};}
\DoxyCodeLine{151 }
\DoxyCodeLine{152     \textcolor{keywordtype}{void} setWeight(\textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y, \textcolor{keywordtype}{double} d);}
\DoxyCodeLine{153 }
\DoxyCodeLine{154     \textcolor{keywordtype}{void} clearWeight(\textcolor{keywordtype}{int} x, \textcolor{keywordtype}{int} y);}
\DoxyCodeLine{155 }
\DoxyCodeLine{156 \textcolor{comment}{//  double getSearchedWeight(int x, int y);}}
\DoxyCodeLine{157 \textcolor{comment}{//}}
\DoxyCodeLine{158 \textcolor{comment}{//  void setSearchedWeight(int x, int y, double d);}}
\DoxyCodeLine{159 \textcolor{comment}{//}}
\DoxyCodeLine{160 \textcolor{comment}{//  void clearSearchedWeights();}}
\DoxyCodeLine{161 \textcolor{comment}{//}}
\DoxyCodeLine{162 \textcolor{comment}{//  double getMinSearchedWeightValue();}}
\DoxyCodeLine{163 \textcolor{comment}{//}}
\DoxyCodeLine{164 \textcolor{comment}{//  double getMaxSearchedWeightValue();}}
\DoxyCodeLine{165 }
\DoxyCodeLine{166 \textcolor{comment}{//  bool getMark(const std::pair<int,int>\& pii);}}
\DoxyCodeLine{167 \textcolor{comment}{//}}
\DoxyCodeLine{168 \textcolor{comment}{//  bool getMark(int x, int y);}}
\DoxyCodeLine{169 \textcolor{comment}{//}}
\DoxyCodeLine{170 \textcolor{comment}{//  void setMark(const std::pair<int,int>\& pii, bool b);}}
\DoxyCodeLine{171 \textcolor{comment}{//}}
\DoxyCodeLine{172 \textcolor{comment}{//  void setMark(int x, int y, bool b);}}
\DoxyCodeLine{173 \textcolor{comment}{//}}
\DoxyCodeLine{174 \textcolor{comment}{//  void clearMarks();}}
\DoxyCodeLine{175 }
\DoxyCodeLine{185     \textcolor{keywordtype}{void} \mbox{\hyperlink{classlarcfm_1_1_density_grid_ae679f97320ccc7fd8ef3fe33b1419500}{setWeights}}(\textcolor{keywordtype}{int} minX, \textcolor{keywordtype}{int} minY, \textcolor{keywordtype}{int} maxX, \textcolor{keywordtype}{int} maxY, \textcolor{keywordtype}{double} d);}
\DoxyCodeLine{186 }
\DoxyCodeLine{192     \textcolor{keywordtype}{void} \mbox{\hyperlink{classlarcfm_1_1_density_grid_ae679f97320ccc7fd8ef3fe33b1419500}{setWeights}}(\textcolor{keywordtype}{double} d);}
\DoxyCodeLine{193 }
\DoxyCodeLine{198     \textcolor{keywordtype}{void} \mbox{\hyperlink{classlarcfm_1_1_density_grid_a25c3b446b98f79a058f2cbd78007cb4e}{clearWeightsOutside}}(\mbox{\hyperlink{classlarcfm_1_1_simple_poly}{SimplePoly}} poly);}
\DoxyCodeLine{199 }
\DoxyCodeLine{205     \textcolor{keywordtype}{void} \mbox{\hyperlink{classlarcfm_1_1_density_grid_ad6749d4fe65ee874583961930eb33ddb}{setWeightsInside}}(\mbox{\hyperlink{classlarcfm_1_1_simple_poly}{SimplePoly}} poly, \textcolor{keywordtype}{double} d);}
\DoxyCodeLine{206 }
\DoxyCodeLine{207 }
\DoxyCodeLine{208     \textcolor{keywordtype}{void} clearWeights();}
\DoxyCodeLine{209 }
\DoxyCodeLine{210     \mbox{\hyperlink{classlarcfm_1_1_position}{Position}} startPoint() \textcolor{keyword}{const};}
\DoxyCodeLine{211 }
\DoxyCodeLine{212     \mbox{\hyperlink{classlarcfm_1_1_position}{Position}} endPoint() \textcolor{keyword}{const};}
\DoxyCodeLine{213 }
\DoxyCodeLine{214     \textcolor{keywordtype}{double} startTime() \textcolor{keyword}{const};}
\DoxyCodeLine{215 }
\DoxyCodeLine{216 \textcolor{keyword}{private}:}
\DoxyCodeLine{217 }
\DoxyCodeLine{218     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} validPair(\textcolor{keyword}{const} std::pair<int,int>\&  p);}
\DoxyCodeLine{219 }
\DoxyCodeLine{220 \textcolor{keyword}{public}:}
\DoxyCodeLine{221 }
\DoxyCodeLine{222     std::vector<std::pair<int,int> > gridPath(\textcolor{keyword}{const} \mbox{\hyperlink{classlarcfm_1_1_plan}{Plan}}\& p) \textcolor{keyword}{const};}
\DoxyCodeLine{223 }
\DoxyCodeLine{224     \textcolor{keywordtype}{void} printGridPath(\textcolor{keyword}{const} std::vector<std::pair<int,int> >\& gPath);}
\DoxyCodeLine{225 }
\DoxyCodeLine{226 \textcolor{keyword}{public}:}
\DoxyCodeLine{227 }
\DoxyCodeLine{228     \textcolor{keyword}{static} std::vector<std::pair<int,int> > thin(\textcolor{keyword}{const} std::vector<std::pair<int,int> >\& gPath);}
\DoxyCodeLine{229 }
\DoxyCodeLine{230 \textcolor{comment}{//  std::vector<std::pair<int,int> > reduceGridPath(const std::vector<std::pair<int,int> >\& gp);}}
\DoxyCodeLine{231 }
\DoxyCodeLine{232     \mbox{\hyperlink{classlarcfm_1_1_plan}{Plan}} gridPathToPlan(\textcolor{keyword}{const} std::vector<std::pair<int,int> >\& gPath, \textcolor{keywordtype}{double} gs, \textcolor{keywordtype}{double} vs);}
\DoxyCodeLine{233 }
\DoxyCodeLine{234 \textcolor{keyword}{private}:}
\DoxyCodeLine{235 }
\DoxyCodeLine{236     \textcolor{comment}{// this is NOT a general function!}}
\DoxyCodeLine{237     \textcolor{keywordtype}{bool} contains(\textcolor{keyword}{const} std::vector<std::pair<int,int> >\& gPath, \textcolor{keyword}{const} std::pair<int,int>\& pii) \textcolor{keyword}{const};}
\DoxyCodeLine{238 }
\DoxyCodeLine{239 \textcolor{keyword}{public}:}
\DoxyCodeLine{240 }
\DoxyCodeLine{241     \textcolor{keywordtype}{void} setProximityWeights(\textcolor{keyword}{const} std::vector<std::pair<int,int> >\& gPath, \textcolor{keywordtype}{double} factor, \textcolor{keywordtype}{bool} applyToUndefined);}
\DoxyCodeLine{242 }
\DoxyCodeLine{250     \textcolor{keywordtype}{void} setProximityWeights(\textcolor{keyword}{const} \mbox{\hyperlink{classlarcfm_1_1_plan}{Plan}}\& p, \textcolor{keywordtype}{double} factor, \textcolor{keywordtype}{bool} applyToUndefined);}
\DoxyCodeLine{251 }
\DoxyCodeLine{252     \textcolor{keywordtype}{void} setPolyWeights(\textcolor{keywordtype}{double} time, \textcolor{keyword}{const} std::vector<PolyPath>\& path);}
\DoxyCodeLine{253 }
\DoxyCodeLine{254     std::string toString() \textcolor{keyword}{const};}
\DoxyCodeLine{255 }
\DoxyCodeLine{256     \textcolor{keywordtype}{void} printWeights() \textcolor{keyword}{const};}
\DoxyCodeLine{257 }
\DoxyCodeLine{258 \textcolor{comment}{//  void printSearchedWeights() const;}}
\DoxyCodeLine{259 }
\DoxyCodeLine{260     \textcolor{keywordtype}{void} printCorners() \textcolor{keyword}{const};}
\DoxyCodeLine{261 \};}
\DoxyCodeLine{262 \}}
\DoxyCodeLine{263 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* FORMAT\_H\_ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{264 }

\end{DoxyCode}
