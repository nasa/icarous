\hypertarget{_raft_core_8hpp_source}{}\doxysection{Raft\+Core.\+hpp}
\label{_raft_core_8hpp_source}\index{Modules/Core/Raft/RaftCore.hpp@{Modules/Core/Raft/RaftCore.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef RAFT\_HPP}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define RAFT\_HPP}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <cstdint>}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include <cstdlib>}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <stdio.h>}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include <time.h>}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include <list>}}
\DoxyCodeLine{9 }
\DoxyCodeLine{10 \textcolor{preprocessor}{\#ifdef \_\_cplusplus}}
\DoxyCodeLine{11 \textcolor{keyword}{extern} \textcolor{stringliteral}{"{}C"{}}\{}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{13 }
\DoxyCodeLine{14 \textcolor{keyword}{typedef} \textcolor{keyword}{enum}\{}
\DoxyCodeLine{15    NEUTRAL,}
\DoxyCodeLine{16    FOLLOWER,}
\DoxyCodeLine{17    CANDIDATE,}
\DoxyCodeLine{18    LEADER}
\DoxyCodeLine{19 \}Role\_e;}
\DoxyCodeLine{20 }
\DoxyCodeLine{21 }
\DoxyCodeLine{22 \textcolor{preprocessor}{\#define MAX\_NODES 10}}
\DoxyCodeLine{23 }
\DoxyCodeLine{24 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\mbox{\hyperlink{group___i_c_a_r_o_u_s___c_o_m_m_o_n___m_e_s_s_a_g_e_s_gad09246453a4dabd919c7541484046a87}{\_\_attribute\_\_}}((\_\_packed\_\_))\{}
\DoxyCodeLine{25    int8\_t aircraftID;           }
\DoxyCodeLine{26    int8\_t intersectionID;       }
\DoxyCodeLine{27    \textcolor{keywordtype}{double} earlyArrivalTime;     }
\DoxyCodeLine{28    \textcolor{keywordtype}{double} currentArrivalTime;   }
\DoxyCodeLine{29    \textcolor{keywordtype}{double} lateArrivalTime;      }
\DoxyCodeLine{30    int32\_t numSchedulesComputed;}
\DoxyCodeLine{31    uint8\_t zoneStatus;          }
\DoxyCodeLine{32 \}report\_t;}
\DoxyCodeLine{33 }
\DoxyCodeLine{34 }
\DoxyCodeLine{35 }
\DoxyCodeLine{40 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\mbox{\hyperlink{group___i_c_a_r_o_u_s___c_o_m_m_o_n___m_e_s_s_a_g_e_s_gad09246453a4dabd919c7541484046a87}{\_\_attribute\_\_}}((\_\_packed\_\_))\{}
\DoxyCodeLine{41    int32\_t intersectionID;                  }
\DoxyCodeLine{42    uint8\_t nodeRole;                        }
\DoxyCodeLine{43    uint32\_t totalNodes;                     }
\DoxyCodeLine{44    report\_t log[MAX\_NODES];}
\DoxyCodeLine{45 \}cDataLog\_t;}
\DoxyCodeLine{46 }
\DoxyCodeLine{53 \textcolor{keyword}{typedef} \textcolor{keyword}{struct}\{}
\DoxyCodeLine{54    int32\_t intersectionID;                 }
\DoxyCodeLine{55    uint32\_t leaderID;                       }
\DoxyCodeLine{56    uint32\_t totalNodes;                     }
\DoxyCodeLine{57    uint32\_t logIndex;                       }
\DoxyCodeLine{58    uint32\_t term;                           }
\DoxyCodeLine{59    report\_t log[MAX\_NODES];}
\DoxyCodeLine{60 \}\mbox{\hyperlink{structraft_hbeat__t}{raftHbeat\_t}};}
\DoxyCodeLine{61 }
\DoxyCodeLine{68 \textcolor{keyword}{typedef} \textcolor{keyword}{struct}\{}
\DoxyCodeLine{69   int32\_t intersectionID;                 }
\DoxyCodeLine{70   uint32\_t followerID;                    }
\DoxyCodeLine{71   report\_t nodeData;                      }
\DoxyCodeLine{72   uint32\_t logIndex;                      }
\DoxyCodeLine{73 \}\mbox{\hyperlink{structraft_hbeat_ack__t}{raftHbeatAck\_t}};}
\DoxyCodeLine{74 }
\DoxyCodeLine{75 }
\DoxyCodeLine{80 \textcolor{keyword}{typedef} \textcolor{keyword}{struct}\{}
\DoxyCodeLine{81   int32\_t intersectionID;                 }
\DoxyCodeLine{82   uint32\_t candidateID;                   }
\DoxyCodeLine{83   uint32\_t term;                          }
\DoxyCodeLine{84 \}\mbox{\hyperlink{structraft_vote_request__t}{raftVoteRequest\_t}};}
\DoxyCodeLine{85 }
\DoxyCodeLine{90 \textcolor{keyword}{typedef} \textcolor{keyword}{struct}\{}
\DoxyCodeLine{91   int32\_t intersectionID;                 }
\DoxyCodeLine{92   uint32\_t candidateID;                   }
\DoxyCodeLine{93   uint32\_t nodeID;                        }
\DoxyCodeLine{94   uint32\_t term;                          }
\DoxyCodeLine{95 \}\mbox{\hyperlink{structraft_vote_response__t}{raftVoteResponse\_t}};}
\DoxyCodeLine{96 }
\DoxyCodeLine{97 }
\DoxyCodeLine{98 }
\DoxyCodeLine{99 \textcolor{keyword}{typedef} \textcolor{keyword}{struct}\{}
\DoxyCodeLine{100     }
\DoxyCodeLine{101 }
\DoxyCodeLine{102     Role\_e  nodeRole;                       }
\DoxyCodeLine{103     uint32\_t nodeID;                        }
\DoxyCodeLine{104     uint32\_t leaderID;                      }
\DoxyCodeLine{105     int32\_t nodeTerm;                       }
\DoxyCodeLine{106     int32\_t votedTerm;                      }
\DoxyCodeLine{107     uint32\_t votedForNodeId;                }
\DoxyCodeLine{108     int32\_t nodeIntersection;               }
\DoxyCodeLine{109     uint32\_t totalVotesReceived;            }
\DoxyCodeLine{110     uint32\_t totalNodes;                    }
\DoxyCodeLine{111     int32\_t memberNodeID[MAX\_NODES];        }
\DoxyCodeLine{112     uint32\_t followerTime;}
\DoxyCodeLine{113     uint32\_t candidateTime;}
\DoxyCodeLine{114     uint32\_t leaderTime;}
\DoxyCodeLine{115     uint32\_t \mbox{\hyperlink{structraft_app_data__t_a46a5279d554f286016527490de80eadf}{followerTimeout}};               }
\DoxyCodeLine{116     uint32\_t \mbox{\hyperlink{structraft_app_data__t_aa70afb0dc820cb6d88a3cbd91bf32c6a}{candidateTimeout}};              }
\DoxyCodeLine{117     uint32\_t \mbox{\hyperlink{structraft_app_data__t_aca9e9c10594e5d56bb9ced835628de20}{leaderTimeout}};                 }
\DoxyCodeLine{118     uint32\_t hbeatTimeoutCounter;           }
\DoxyCodeLine{119     uint32\_t electionTimeoutCounter;        }
\DoxyCodeLine{120     uint32\_t leaderTimeoutCounter;          }
\DoxyCodeLine{121     \textcolor{keyword}{struct }timespec ts;}
\DoxyCodeLine{122     \textcolor{keywordtype}{double} timeNow;}
\DoxyCodeLine{123 }
\DoxyCodeLine{124     report\_t mergingData[MAX\_NODES];        }
\DoxyCodeLine{125     uint32\_t logDataIndex;                  }
\DoxyCodeLine{126     report\_t ownshipMergingData;            }
\DoxyCodeLine{127     \textcolor{keywordtype}{bool} electionInitiated;                 }
\DoxyCodeLine{128     \textcolor{keywordtype}{bool} neutralPipeInitialized;            }
\DoxyCodeLine{129     \textcolor{keywordtype}{bool} followerPipeInitialized;           }
\DoxyCodeLine{130     \textcolor{keywordtype}{bool} candidatePipeInitialized;          }
\DoxyCodeLine{131     \textcolor{keywordtype}{bool} leaderPipeInitialized;             }
\DoxyCodeLine{132     \textcolor{keywordtype}{bool} neutralFollower;                   }
\DoxyCodeLine{133 }
\DoxyCodeLine{134     std::list<raftHbeat\_t> heartBeatPipeIn;}
\DoxyCodeLine{135     std::list<raftHbeat\_t> heartBeatPipeOut;}
\DoxyCodeLine{136     std::list<raftHbeatAck\_t> heartBeatAckPipeIn;}
\DoxyCodeLine{137     std::list<raftHbeatAck\_t> heartBeatAckPipeOut;}
\DoxyCodeLine{138     std::list<raftVoteRequest\_t> voteRequestPipeIn;}
\DoxyCodeLine{139     std::list<raftVoteRequest\_t> voteRequestPipeOut;}
\DoxyCodeLine{140     std::list<raftVoteResponse\_t> voteResponsePipeIn;}
\DoxyCodeLine{141     std::list<raftVoteResponse\_t> voteResponsePipeOut;}
\DoxyCodeLine{142     cDataLog\_t dataLog;}
\DoxyCodeLine{143 }
\DoxyCodeLine{144     FILE* logFile;                          }
\DoxyCodeLine{145 \}\mbox{\hyperlink{structraft_app_data__t}{raftAppData\_t}};}
\DoxyCodeLine{146 }
\DoxyCodeLine{147 }
\DoxyCodeLine{148 \textcolor{keywordtype}{void}* \mbox{\hyperlink{raft_8h_aa7b2b968fa90f344b33f2d64a8ec615f}{RAFT\_AppInitializeData}}(\textcolor{keywordtype}{void}* obj0,\textcolor{keywordtype}{int} \textcolor{keywordtype}{id},\textcolor{keywordtype}{int} followerTimeout,\textcolor{keywordtype}{int} candidateTimeout,\textcolor{keywordtype}{int} leaderTimeout);}
\DoxyCodeLine{149 }
\DoxyCodeLine{150 \textcolor{keywordtype}{void} heartbeatTimeoutCallback(\mbox{\hyperlink{structraft_app_data__t}{raftAppData\_t}}* obj);}
\DoxyCodeLine{151 }
\DoxyCodeLine{152 \textcolor{keywordtype}{void} electionTimeoutCallback(\mbox{\hyperlink{structraft_app_data__t}{raftAppData\_t}}* obj);}
\DoxyCodeLine{153 }
\DoxyCodeLine{154 \textcolor{keywordtype}{void} leaderTimeoutCallback(\mbox{\hyperlink{structraft_app_data__t}{raftAppData\_t}}* obj);}
\DoxyCodeLine{155 }
\DoxyCodeLine{156 \textcolor{keywordtype}{void} raft\_loop(\textcolor{keywordtype}{void}* obj,\textcolor{keywordtype}{double} time);}
\DoxyCodeLine{157 }
\DoxyCodeLine{158 \textcolor{keywordtype}{void} raft\_neutral(\mbox{\hyperlink{structraft_app_data__t}{raftAppData\_t}}* obj);}
\DoxyCodeLine{159 }
\DoxyCodeLine{160 \textcolor{keywordtype}{void} raft\_follower(\mbox{\hyperlink{structraft_app_data__t}{raftAppData\_t}}* obj);}
\DoxyCodeLine{161 }
\DoxyCodeLine{162 \textcolor{keywordtype}{void} raft\_candidate(\mbox{\hyperlink{structraft_app_data__t}{raftAppData\_t}}* obj);}
\DoxyCodeLine{163 }
\DoxyCodeLine{164 \textcolor{keywordtype}{void} raft\_leader(\mbox{\hyperlink{structraft_app_data__t}{raftAppData\_t}}* obj);}
\DoxyCodeLine{165 }
\DoxyCodeLine{166 \textcolor{keywordtype}{void} raftProcessClientData(\textcolor{keywordtype}{void}* obj,report\_t* clientData);}
\DoxyCodeLine{167 }
\DoxyCodeLine{168 \textcolor{keywordtype}{void} raftSendDataToClient(\mbox{\hyperlink{structraft_app_data__t}{raftAppData\_t}}* obj);}
\DoxyCodeLine{169 }
\DoxyCodeLine{170 \textcolor{keywordtype}{void} GetMergingData(cDataLog\_t* data);}
\DoxyCodeLine{171 }
\DoxyCodeLine{172 \textcolor{keywordtype}{int} GetHeartbeat(\textcolor{keywordtype}{void}* obj,\mbox{\hyperlink{structraft_hbeat__t}{raftHbeat\_t}}* hbeat);}
\DoxyCodeLine{173 }
\DoxyCodeLine{174 \textcolor{keywordtype}{int} GetHeartbeatAck(\textcolor{keywordtype}{void}* obj,\mbox{\hyperlink{structraft_hbeat_ack__t}{raftHbeatAck\_t}}* hbtack);}
\DoxyCodeLine{175 }
\DoxyCodeLine{176 \textcolor{keywordtype}{int} GetVoteRequest(\textcolor{keywordtype}{void}* obj,\mbox{\hyperlink{structraft_vote_request__t}{raftVoteRequest\_t}}* voteReq);}
\DoxyCodeLine{177 }
\DoxyCodeLine{178 \textcolor{keywordtype}{int} GetVoteResponse(\textcolor{keywordtype}{void}* obj,\mbox{\hyperlink{structraft_vote_response__t}{raftVoteResponse\_t}}* voteRep);}
\DoxyCodeLine{179 }
\DoxyCodeLine{180 \textcolor{keywordtype}{void} InputHeartbeat(\mbox{\hyperlink{structraft_app_data__t}{raftAppData\_t}}* obj,\mbox{\hyperlink{structraft_hbeat__t}{raftHbeat\_t}} hbeat)\{((\mbox{\hyperlink{structraft_app_data__t}{raftAppData\_t}}*)obj)-\/>heartBeatPipeIn.push\_back(hbeat);\};}
\DoxyCodeLine{181 }
\DoxyCodeLine{182 \textcolor{keywordtype}{void} InputHeartbeatAck(\mbox{\hyperlink{structraft_app_data__t}{raftAppData\_t}}* obj,\mbox{\hyperlink{structraft_hbeat_ack__t}{raftHbeatAck\_t}} hbeatack)\{((\mbox{\hyperlink{structraft_app_data__t}{raftAppData\_t}}*)obj)-\/>heartBeatAckPipeIn.push\_back(hbeatack);\};}
\DoxyCodeLine{183 }
\DoxyCodeLine{184 \textcolor{keywordtype}{void} InputVoteResponse(\mbox{\hyperlink{structraft_app_data__t}{raftAppData\_t}}* obj,\mbox{\hyperlink{structraft_vote_response__t}{raftVoteResponse\_t}} voteResponse)\{((\mbox{\hyperlink{structraft_app_data__t}{raftAppData\_t}}*)obj)-\/>voteResponsePipeIn.push\_back(voteResponse);\};}
\DoxyCodeLine{185 }
\DoxyCodeLine{186 \textcolor{keywordtype}{void} InputVoteRequest(\mbox{\hyperlink{structraft_app_data__t}{raftAppData\_t}}* obj,\mbox{\hyperlink{structraft_vote_request__t}{raftVoteRequest\_t}} voteRequest)\{((\mbox{\hyperlink{structraft_app_data__t}{raftAppData\_t}}*)obj)-\/>voteRequestPipeIn.push\_back(voteRequest);\};}
\DoxyCodeLine{187 }
\DoxyCodeLine{188 \textcolor{keywordtype}{void} ClearPipes(\mbox{\hyperlink{structraft_app_data__t}{raftAppData\_t}}* obj);}
\DoxyCodeLine{189 }
\DoxyCodeLine{190 \textcolor{preprocessor}{\#ifdef \_\_cplusplus}}
\DoxyCodeLine{191 \}}
\DoxyCodeLine{192 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{193 }
\DoxyCodeLine{194 }
\DoxyCodeLine{195 \textcolor{preprocessor}{\#endif }\textcolor{comment}{//ICAROUS\_CFS\_RAFT\_H}}
\DoxyCodeLine{196 }

\end{DoxyCode}
