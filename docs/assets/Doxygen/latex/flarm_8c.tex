\hypertarget{flarm_8c}{}\doxysection{apps/flarm/fsw/src/flarm.c File Reference}
\label{flarm_8c}\index{apps/flarm/fsw/src/flarm.c@{apps/flarm/fsw/src/flarm.c}}


function definitions for FLARM app  


{\ttfamily \#include \char`\"{}Icarous\+\_\+msg.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Interfaces.\+h\char`\"{}}\newline
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
{\ttfamily \#include \char`\"{}flarm.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}flarm\+\_\+version.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}flarm\+\_\+tbl.\+c\char`\"{}}\newline
{\ttfamily \#include \char`\"{}pflaa.\+h\char`\"{}}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{flarm_8c_aedc37b8c1c9867ae5eba43df454388d3}{FLARM\+\_\+\+App\+Main}} (void)
\begin{DoxyCompactList}\small\item\em This is the main entry point for your application that will be used by c\+FS. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{flarm_8c_ace73b3cffd2bdf988e05fa8b5a92d2f3}{FLARM\+\_\+\+App\+Init}} (void)
\begin{DoxyCompactList}\small\item\em Initialize app data\+: set up pipes, subscribe to messages, read table, initialize data. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{flarm_8c_a3b0fdca76834c8e58b626d1a12ff1aa3}{FLARM\+\_\+\+Initialize\+Ports}} ()
\begin{DoxyCompactList}\small\item\em Open ports to autopilot and intialize ports here. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{flarm_8c_a2c76bc967eed63f83fd95b8e2f675eb6}{FLARM\+\_\+\+Process\+Data}} ()
\begin{DoxyCompactList}\small\item\em Read data from the autopilot and construct software bus messages. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{flarm_8c_aed3b08cc47b8bb0f94e7350cda2f1d7e}{log\+Sentence}} (char $\ast$recvbuffer, \mbox{\hyperlink{structnmea__pflaa__s}{nmea\+\_\+pflaa\+\_\+s}} $\ast$pflaa)
\begin{DoxyCompactList}\small\item\em Ensures read in serial data is full NMEA sentence. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{flarm_8c_a026226042c160b8c2e6c166faac639e8}{get\+File\+Timeand\+Date}} (char $\ast$$\ast$Filename)
\begin{DoxyCompactList}\small\item\em Ensures current time and date is captured. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{flarm_8c_a2b86970b911302499d61cc3f1431271d}{FLARM\+\_\+\+Process\+SBData}} ()
\begin{DoxyCompactList}\small\item\em Read data from software bus and send data to autopilot. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{flarm_8c_a5b35a351113330866067d81dc362b0ae}{FLARM\+\_\+\+App\+Clean\+Up}} ()
\item 
int32\+\_\+t \mbox{\hyperlink{flarm_8c_a7a258ed94483248616a5903508322831}{FLARMTable\+Validation\+Func}} (void $\ast$Tbl\+Ptr)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{flarm_8c_a817d227ed8aebb7c4537d41f2d05a8c9}\label{flarm_8c_a817d227ed8aebb7c4537d41f2d05a8c9}} 
bool {\bfseries firstpass\+\_\+\+FLAG} = true
\item 
\mbox{\Hypertarget{flarm_8c_a0fed304625415d5267922a5df7f1ebc4}\label{flarm_8c_a0fed304625415d5267922a5df7f1ebc4}} 
FILE $\ast$ {\bfseries flarminput}
\item 
CFE\+\_\+\+EVS\+\_\+\+Bin\+Filter\+\_\+t \mbox{\hyperlink{flarm_8c_aafd0052ab817e624be17dfb5ee100f83}{FLARM\+\_\+\+Event\+Filters}} \mbox{[}$\,$\mbox{]}
\begin{DoxyCompactList}\small\item\em Event filter definition for ardupilot. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{flarm_8c_a5911f0d93d61325e18b234e78e620683}\label{flarm_8c_a5911f0d93d61325e18b234e78e620683}} 
\mbox{\hyperlink{struct_flarm_app_data__t}{Flarm\+App\+Data\+\_\+t}} {\bfseries flarm\+App\+Data}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{flarm_8c_a5b35a351113330866067d81dc362b0ae}\label{flarm_8c_a5b35a351113330866067d81dc362b0ae}} 
\index{flarm.c@{flarm.c}!FLARM\_AppCleanUp@{FLARM\_AppCleanUp}}
\index{FLARM\_AppCleanUp@{FLARM\_AppCleanUp}!flarm.c@{flarm.c}}
\doxysubsubsection{\texorpdfstring{FLARM\_AppCleanUp()}{FLARM\_AppCleanUp()}}
{\footnotesize\ttfamily void FLARM\+\_\+\+App\+Clean\+Up (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Clean up variables \mbox{\Hypertarget{flarm_8c_ace73b3cffd2bdf988e05fa8b5a92d2f3}\label{flarm_8c_ace73b3cffd2bdf988e05fa8b5a92d2f3}} 
\index{flarm.c@{flarm.c}!FLARM\_AppInit@{FLARM\_AppInit}}
\index{FLARM\_AppInit@{FLARM\_AppInit}!flarm.c@{flarm.c}}
\doxysubsubsection{\texorpdfstring{FLARM\_AppInit()}{FLARM\_AppInit()}}
{\footnotesize\ttfamily void FLARM\+\_\+\+App\+Init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Initialize app properties \mbox{\Hypertarget{flarm_8c_aedc37b8c1c9867ae5eba43df454388d3}\label{flarm_8c_aedc37b8c1c9867ae5eba43df454388d3}} 
\index{flarm.c@{flarm.c}!FLARM\_AppMain@{FLARM\_AppMain}}
\index{FLARM\_AppMain@{FLARM\_AppMain}!flarm.c@{flarm.c}}
\doxysubsubsection{\texorpdfstring{FLARM\_AppMain()}{FLARM\_AppMain()}}
{\footnotesize\ttfamily void FLARM\+\_\+\+App\+Main (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Entry point for app \mbox{\Hypertarget{flarm_8c_a3b0fdca76834c8e58b626d1a12ff1aa3}\label{flarm_8c_a3b0fdca76834c8e58b626d1a12ff1aa3}} 
\index{flarm.c@{flarm.c}!FLARM\_InitializePorts@{FLARM\_InitializePorts}}
\index{FLARM\_InitializePorts@{FLARM\_InitializePorts}!flarm.c@{flarm.c}}
\doxysubsubsection{\texorpdfstring{FLARM\_InitializePorts()}{FLARM\_InitializePorts()}}
{\footnotesize\ttfamily void FLARM\+\_\+\+Initialize\+Ports (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Initialize ports to the autopilot \mbox{\Hypertarget{flarm_8c_a2c76bc967eed63f83fd95b8e2f675eb6}\label{flarm_8c_a2c76bc967eed63f83fd95b8e2f675eb6}} 
\index{flarm.c@{flarm.c}!FLARM\_ProcessData@{FLARM\_ProcessData}}
\index{FLARM\_ProcessData@{FLARM\_ProcessData}!flarm.c@{flarm.c}}
\doxysubsubsection{\texorpdfstring{FLARM\_ProcessData()}{FLARM\_ProcessData()}}
{\footnotesize\ttfamily void FLARM\+\_\+\+Process\+Data (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Process data from the autopilot \mbox{\Hypertarget{flarm_8c_a2b86970b911302499d61cc3f1431271d}\label{flarm_8c_a2b86970b911302499d61cc3f1431271d}} 
\index{flarm.c@{flarm.c}!FLARM\_ProcessSBData@{FLARM\_ProcessSBData}}
\index{FLARM\_ProcessSBData@{FLARM\_ProcessSBData}!flarm.c@{flarm.c}}
\doxysubsubsection{\texorpdfstring{FLARM\_ProcessSBData()}{FLARM\_ProcessSBData()}}
{\footnotesize\ttfamily void FLARM\+\_\+\+Process\+SBData (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Process data from the SB message \mbox{\Hypertarget{flarm_8c_a7a258ed94483248616a5903508322831}\label{flarm_8c_a7a258ed94483248616a5903508322831}} 
\index{flarm.c@{flarm.c}!FLARMTableValidationFunc@{FLARMTableValidationFunc}}
\index{FLARMTableValidationFunc@{FLARMTableValidationFunc}!flarm.c@{flarm.c}}
\doxysubsubsection{\texorpdfstring{FLARMTableValidationFunc()}{FLARMTableValidationFunc()}}
{\footnotesize\ttfamily int32\+\_\+t FLARMTable\+Validation\+Func (\begin{DoxyParamCaption}\item[{void $\ast$}]{Tbl\+Ptr }\end{DoxyParamCaption})}

Validate table data 
\begin{DoxyParams}{Parameters}
{\em $\ast$\+Tbl\+Ptr} & pointer to table \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{flarm_8c_a026226042c160b8c2e6c166faac639e8}\label{flarm_8c_a026226042c160b8c2e6c166faac639e8}} 
\index{flarm.c@{flarm.c}!getFileTimeandDate@{getFileTimeandDate}}
\index{getFileTimeandDate@{getFileTimeandDate}!flarm.c@{flarm.c}}
\doxysubsubsection{\texorpdfstring{getFileTimeandDate()}{getFileTimeandDate()}}
{\footnotesize\ttfamily void get\+File\+Timeand\+Date (\begin{DoxyParamCaption}\item[{char $\ast$$\ast$}]{Filename }\end{DoxyParamCaption})}

Obtains current time and date for filename \mbox{\Hypertarget{flarm_8c_aed3b08cc47b8bb0f94e7350cda2f1d7e}\label{flarm_8c_aed3b08cc47b8bb0f94e7350cda2f1d7e}} 
\index{flarm.c@{flarm.c}!logSentence@{logSentence}}
\index{logSentence@{logSentence}!flarm.c@{flarm.c}}
\doxysubsubsection{\texorpdfstring{logSentence()}{logSentence()}}
{\footnotesize\ttfamily bool log\+Sentence (\begin{DoxyParamCaption}\item[{char $\ast$}]{recvbuffer,  }\item[{\mbox{\hyperlink{structnmea__pflaa__s}{nmea\+\_\+pflaa\+\_\+s}} $\ast$}]{pflaa }\end{DoxyParamCaption})}

logs valid NMEA sentence 

\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{flarm_8c_aafd0052ab817e624be17dfb5ee100f83}\label{flarm_8c_aafd0052ab817e624be17dfb5ee100f83}} 
\index{flarm.c@{flarm.c}!FLARM\_EventFilters@{FLARM\_EventFilters}}
\index{FLARM\_EventFilters@{FLARM\_EventFilters}!flarm.c@{flarm.c}}
\doxysubsubsection{\texorpdfstring{FLARM\_EventFilters}{FLARM\_EventFilters}}
{\footnotesize\ttfamily CFE\+\_\+\+EVS\+\_\+\+Bin\+Filter\+\_\+t FLARM\+\_\+\+Event\+Filters\mbox{[}$\,$\mbox{]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=}
\DoxyCodeLine{\{  }
\DoxyCodeLine{    \{FLARM\_STARTUP\_INF\_EID,       0x0000\},}
\DoxyCodeLine{    \{FLARM\_COMMAND\_ERR\_EID,       0x0000\},}
\DoxyCodeLine{\}}

\end{DoxyCode}
