\hypertarget{_guidance_8hpp_source}{}\doxysection{Guidance.\+hpp}
\label{_guidance_8hpp_source}\index{Modules/Core/Guidance/Guidance.hpp@{Modules/Core/Guidance/Guidance.hpp}}
\mbox{\hyperlink{_guidance_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{6 \textcolor{preprocessor}{\#ifndef GUIDANCE\_HPP}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#define GUIDANCE\_HPP}}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <cstring>}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <list>}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <cmath>}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include <iostream>}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include <Plan.h>}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include <Position.h>}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include <Velocity.h>}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#include <TrajGen.h>}}
\DoxyCodeLine{18 }
\DoxyCodeLine{19 \textcolor{preprocessor}{\#include "{}Guidance.h"{}}}
\DoxyCodeLine{20 \textcolor{preprocessor}{\#include "{}Interfaces.h"{}}}
\DoxyCodeLine{21 }
\DoxyCodeLine{26 \textcolor{keyword}{class }\mbox{\hyperlink{class_guidance}{Guidance}}\{}
\DoxyCodeLine{27 \textcolor{keyword}{private}:}
\DoxyCodeLine{28 }
\DoxyCodeLine{29     std::list<larcfm::Plan> \mbox{\hyperlink{class_guidance_a5facd495f812b7b0bde3e02cf6d4a750}{planList}};                 }
\DoxyCodeLine{30     std::map<std::string,int> \mbox{\hyperlink{class_guidance_a87378fb2c5414eaaaa22005745a81079}{nextWpId}};               }
\DoxyCodeLine{31     std::string \mbox{\hyperlink{class_guidance_a392887ef5cb0a67063ebb6d8b5caa9cc}{activePlanId}};                         }
\DoxyCodeLine{32     std::string \mbox{\hyperlink{class_guidance_aec677ab96bcdd5432d24a57994c4af2a}{prevPlan}};                             }
\DoxyCodeLine{33     larcfm::Plan* \mbox{\hyperlink{class_guidance_a747324c9ea535bbdc0b0b05eb50be855}{currentPlan}};                        }
\DoxyCodeLine{34     larcfm::Position \mbox{\hyperlink{class_guidance_a50450dacd698e9da0be6b593858bcef2}{currentPos}};                      }
\DoxyCodeLine{35     larcfm::Velocity \mbox{\hyperlink{class_guidance_a8b993d81fec5384ad4f12944b459bfec}{currentAirspeed}};                 }
\DoxyCodeLine{36     larcfm::Velocity \mbox{\hyperlink{class_guidance_a118ce9bd01ef62ba59b3f8208e43e2cc}{currentGroundSpeed}};              }
\DoxyCodeLine{37     larcfm::Velocity \mbox{\hyperlink{class_guidance_a5524351858d155338c1e0c7cdb608980}{outputCmd}};                       }
\DoxyCodeLine{38     GuidanceMode \mbox{\hyperlink{class_guidance_a50024fbe5c70caa58cc683a98e2f3d37}{mode}};                                }
\DoxyCodeLine{39     \textcolor{keywordtype}{double} \mbox{\hyperlink{class_guidance_abfa772a0dd17f1a3c07e63f535a7663e}{currTime}};                                  }
\DoxyCodeLine{40     \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_guidance_a4ae6cc43e93ec637a300f3611cae5559}{wpReached}};                                   }
\DoxyCodeLine{41     \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_guidance_a31abc81c8110d033b7cacdd07c2e3fdf}{etaControl}};                                  }
\DoxyCodeLine{42     \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_guidance_a797687bab50019f3265e08827241f649}{inTurn}};                                      }
\DoxyCodeLine{43     \textcolor{keywordtype}{double} \mbox{\hyperlink{class_guidance_a0275015985ec99889e6546422a48ba6b}{distH2nextWP}};                              }
\DoxyCodeLine{44     \textcolor{keywordtype}{double} \mbox{\hyperlink{class_guidance_aa084b38d2770966f49e02ab867211281}{distV2nextWP}};                              }
\DoxyCodeLine{45     \textcolor{keywordtype}{double} \mbox{\hyperlink{class_guidance_a092ba8b68be90cb8f690d14e9ee1a640}{xtrackDist}};                                }
\DoxyCodeLine{46     \textcolor{keywordtype}{double} \mbox{\hyperlink{class_guidance_a27e9c7af4a8512565d9e81cbacd1cc74}{prevTrackControllerTime}};                   }
\DoxyCodeLine{47     \textcolor{keywordtype}{double} \mbox{\hyperlink{class_guidance_aed1fecd9865fe9331db26d2bb7d01513}{prevTrackControllerTarget}};                 }
\DoxyCodeLine{48     larcfm::Velocity \mbox{\hyperlink{class_guidance_a1942a98a0e540bac5732463566562098}{wind}};                            }
\DoxyCodeLine{49     }
\DoxyCodeLine{50     \mbox{\hyperlink{struct_guidance_params__t}{GuidanceParams\_t}} \mbox{\hyperlink{class_guidance_a408c2efa5f9e118e6336559651f23f02}{params}};                          }
\DoxyCodeLine{51 }
\DoxyCodeLine{61     \textcolor{keywordtype}{double} \mbox{\hyperlink{class_guidance_a09cde1ef1e07435eb9b51cef679e7e72}{ComputeOffSetPositionOnPlan}}(larcfm::Plan* fp,\textcolor{keywordtype}{int} nextWP,\textcolor{keywordtype}{double} guidance\_radius,larcfm::Position \&pos);}
\DoxyCodeLine{62 }
\DoxyCodeLine{72     larcfm::Vect3 \mbox{\hyperlink{class_guidance_acaf0febbd3b74f90045eca72c3ac466e}{GetCorrectIntersectionPoint}}(\textcolor{keyword}{const} larcfm::Vect3 \&wpA,\textcolor{keyword}{const} larcfm::Vect3 \&wpB,\textcolor{keyword}{const} \textcolor{keywordtype}{double} r);}
\DoxyCodeLine{73 }
\DoxyCodeLine{83     \textcolor{keywordtype}{double} \mbox{\hyperlink{class_guidance_a7d5f0b2939acbd54aeb1d0394d292e48}{distance}}(\textcolor{keywordtype}{double} x1,\textcolor{keywordtype}{double} y1,\textcolor{keywordtype}{double} x2,\textcolor{keywordtype}{double} y2);}
\DoxyCodeLine{84 }
\DoxyCodeLine{90     \textcolor{keywordtype}{double} \mbox{\hyperlink{class_guidance_a2c03cc85792d0d25ba9fa55bbb58285d}{ComputeSpeed}}();}
\DoxyCodeLine{91 }
\DoxyCodeLine{98     \textcolor{keywordtype}{double} \mbox{\hyperlink{class_guidance_ab3c21f0a86beb2e02a67b44d6c39a91b}{ComputeClimbRate}}(\textcolor{keywordtype}{double} speedRef);}
\DoxyCodeLine{99 }
\DoxyCodeLine{106     \textcolor{keywordtype}{double} \mbox{\hyperlink{class_guidance_aa2b54e794e2ce943f60c85e52f2e5f95}{ComputeNewHeading}}(\textcolor{keywordtype}{double}\& speedRef);}
\DoxyCodeLine{107 }
\DoxyCodeLine{116     \textcolor{keywordtype}{double} \mbox{\hyperlink{class_guidance_a6eb0f998b75786d65b6c009b99ce709c}{GetApproachPrecision}}(\textcolor{keyword}{const} larcfm::Position \&\mbox{\hyperlink{arducopter_8h_a97f6f07d9b99c3e3d789183a9064a7da}{position}},\textcolor{keyword}{const} larcfm::Velocity \&velocity, \textcolor{keyword}{const} larcfm::Position \&waypoint);}
\DoxyCodeLine{117 }
\DoxyCodeLine{124     larcfm::Plan* \mbox{\hyperlink{class_guidance_a6a1adb5833bec5563805c903343a4a76}{GetPlan}}(\textcolor{keyword}{const} std::string \&plan\_id);}
\DoxyCodeLine{125 }
\DoxyCodeLine{133     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_guidance_ac5fe2f4655823439df58f6e13695f784}{FilterCommand}}(\textcolor{keywordtype}{double} \&refHeading, \textcolor{keywordtype}{double} \&refSpeed, \textcolor{keywordtype}{double} \&refVS);}
\DoxyCodeLine{134 }
\DoxyCodeLine{139     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_guidance_aa312d8e704852ae34d8984f5767490e9}{ComputePlanGuidance}}();}
\DoxyCodeLine{140 }
\DoxyCodeLine{145     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_guidance_abb21bdc8546f5f4e5f0243d9341440de}{CheckWaypointArrival}}();}
\DoxyCodeLine{146 \textcolor{keyword}{public}:}
\DoxyCodeLine{147 }
\DoxyCodeLine{153     \mbox{\hyperlink{class_guidance_a15c663113709dbf7c63c6fccf82c6e5b}{Guidance}}(\textcolor{keyword}{const} std::string config);}
\DoxyCodeLine{154 }
\DoxyCodeLine{160     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_guidance_afdc131e75d3d551c1c60db0245329f07}{ReadParamFromFile}}(std::string config);}
\DoxyCodeLine{161 }
\DoxyCodeLine{167     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_guidance_a59574093df3c470814eab4130a3f05a0}{SetGuidanceParams}}(\textcolor{keyword}{const} \mbox{\hyperlink{struct_guidance_params__t}{GuidanceParams\_t}}* \mbox{\hyperlink{class_guidance_a408c2efa5f9e118e6336559651f23f02}{params}});}
\DoxyCodeLine{168 }
\DoxyCodeLine{175     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_guidance_a80e367c673156c2b0dcbf74306e01d38}{SetAircraftState}}(\textcolor{keyword}{const} larcfm::Position \&pos,\textcolor{keyword}{const} larcfm::Velocity \&groundSpeed);}
\DoxyCodeLine{176 }
\DoxyCodeLine{183     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_guidance_a2fc86c190cb04814294e5c461291d8bd}{SetWindData}}(\textcolor{keyword}{const} \textcolor{keywordtype}{double} windFrom,\textcolor{keyword}{const} \textcolor{keywordtype}{double} windSpeed);}
\DoxyCodeLine{184 }
\DoxyCodeLine{194     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_guidance_a29eaeed053de650677f7a42ee393f36f}{InputFlightplanData}}(\textcolor{keyword}{const} std::string \&plan\_id,\textcolor{keyword}{const} std::list<waypoint\_t> \&waypoints,}
\DoxyCodeLine{195                             \textcolor{keyword}{const} \textcolor{keywordtype}{double} initHeading,\textcolor{keywordtype}{bool} repair,\textcolor{keywordtype}{double} repairTurnRate);}
\DoxyCodeLine{196 }
\DoxyCodeLine{203     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_guidance_aa8ec5b739ece761c793f86210dbd6376}{RunGuidance}}(\textcolor{keywordtype}{double} time);}
\DoxyCodeLine{204 }
\DoxyCodeLine{213     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_guidance_a95bce920021a29d2b3c9dbe94e32fa95}{SetGuidanceMode}}(\textcolor{keyword}{const} GuidanceMode \mbox{\hyperlink{class_guidance_a50024fbe5c70caa58cc683a98e2f3d37}{mode}},\textcolor{keyword}{const} std::string planID,\textcolor{keyword}{const} \textcolor{keywordtype}{int} nextWP,\textcolor{keyword}{const} \textcolor{keywordtype}{bool} eta);}
\DoxyCodeLine{214 }
\DoxyCodeLine{223     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_guidance_ac8c08a2721f8a210697b500db46b5646}{ChangeWaypointAlt}}(\textcolor{keyword}{const} std::string planID,\textcolor{keywordtype}{int} wpID,\textcolor{keyword}{const} \textcolor{keywordtype}{double} value,\textcolor{keyword}{const} \textcolor{keywordtype}{bool} updateAll);}
\DoxyCodeLine{224 }
\DoxyCodeLine{232     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_guidance_a90cc0d4c68148a6aa6b902843be6fb70}{ChangeWaypointSpeed}}(\textcolor{keyword}{const} std::string planID,\textcolor{keywordtype}{int} wpID,\textcolor{keyword}{const} \textcolor{keywordtype}{double} value);}
\DoxyCodeLine{233 }
\DoxyCodeLine{234 }
\DoxyCodeLine{243     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_guidance_a425dd495bb750034b8f823affe3735c5}{ChangeWaypointETA}}(\textcolor{keyword}{const} std::string planID,\textcolor{keyword}{const} \textcolor{keywordtype}{int} wpID,\textcolor{keyword}{const} \textcolor{keywordtype}{double} value,\textcolor{keyword}{const} \textcolor{keywordtype}{bool} updateAll);}
\DoxyCodeLine{244 }
\DoxyCodeLine{250     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_guidance_a052f2143feaaca24a511cf5f7a30cdf1}{SetVelocityCommands}}(\textcolor{keyword}{const} larcfm::Velocity \&inputs);}
\DoxyCodeLine{251 }
\DoxyCodeLine{257     \textcolor{keywordtype}{void} \mbox{\hyperlink{class_guidance_ac5d309f7a536bc055e2f3bd349059c44}{GetOutput}}(\mbox{\hyperlink{struct_guidance_output__t}{GuidanceOutput\_t}}\& output);}
\DoxyCodeLine{258 }
\DoxyCodeLine{267     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_guidance_a625e0e9f260b4a4548fefc9f1cbcd6e4}{GetWaypoint}}(\textcolor{keyword}{const} std::string planID,\textcolor{keywordtype}{int} \textcolor{keywordtype}{id},\mbox{\hyperlink{structwaypoint__t}{waypoint\_t}} \&wp);}
\DoxyCodeLine{268 \};}
\DoxyCodeLine{269 }
\DoxyCodeLine{270 }
\DoxyCodeLine{271 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
